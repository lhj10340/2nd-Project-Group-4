<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.tf.spring.dao.UserDAO">
    <select id="findById_InUserDB" resultType="kr.tf.spring.model.vo.UserVO">
        select * from user where us_id = #{us_id}
    </select>
    <select id="findByIdAndAuth" resultType="kr.tf.spring.model.vo.UserVO">
        select * from user where us_id = #{us_id} AND us_auth =#{us_auth}
    </select>
    <!-- 이름으로 사용자 검색 (동일한 이름이 있는 경우 여러 명의 사용자 반환) -->
    <select id="findUsersByName" resultType="kr.tf.spring.model.vo.UserVO">
        select * from user where us_name = #{us_name}
    </select>
    <!-- ID로 사용자 정보 조회 -->
    <select id="findUserById" resultType="kr.tf.spring.model.vo.UserVO">
        select * from user where us_id = #{us_id}
    </select>
    <!-- 사용자 정보 업데이트 -->
    <update id="updateUser">
        update user
        set
            us_pw = #{us_pw},
            us_auth = #{us_auth},
            us_name = #{us_name},
            us_gender = #{us_gender},
            us_hbd = #{us_hbd},
            us_phone = #{us_phone},
            us_email = #{us_email},
            us_failed = #{us_failed},
            us_cookie = #{us_cookie},
            us_limit = #{us_limit},
            us_report = #{us_report},
            us_stop = #{us_stop},
            us_icon = #{us_icon},
            us_say = #{us_say}
        where us_id = #{us_id}
    </update>
    <!-- 사용자 삭제 -->
    <delete id="deleteUser">
        delete from user where us_id = #{us_id}
    </delete>
</mapper>
